package com.v2ray.ang.uiimport android.content.Contextimport android.os.Buildimport android.os.Bundleimport android.view.MenuItemimport androidx.annotation.RequiresApiimport androidx.appcompat.app.AppCompatActivityimport androidx.core.content.ContextCompatimport androidx.core.view.WindowCompatimport androidx.recyclerview.widget.DividerItemDecorationimport androidx.recyclerview.widget.RecyclerViewimport com.v2ray.ang.handler.SettingsManagerimport com.v2ray.ang.helper.CustomDividerItemDecorationimport com.v2ray.ang.util.LanguageManagerimport com.v2ray.ang.util.MyContextWrapperimport com.v2ray.ang.util.Utilsabstract class BaseActivity : AppCompatActivity() {    override fun onCreate(savedInstanceState: Bundle?) {        super.onCreate(savedInstanceState)        supportActionBar?.setDisplayHomeAsUpEnabled(true)        if (!Utils.getDarkModeStatus(this)) {            WindowCompat.getInsetsController(window, window.decorView).apply {                isAppearanceLightStatusBars = true            }        }    }    override fun onOptionsItemSelected(item: MenuItem) = when (item.itemId) {        android.R.id.home -> {            onBackPressedDispatcher.onBackPressed()            true        }        else -> super.onOptionsItemSelected(item)    }    @RequiresApi(Build.VERSION_CODES.N)    override fun attachBaseContext(newBase: Context?) {        val contextWithLanguage = if (newBase != null) {            LanguageManager.autoApplyLanguage(newBase)        } else {            return        }        super.attachBaseContext(contextWithLanguage)    }    fun addCustomDividerToRecyclerView(recyclerView: RecyclerView, context: Context?, drawableResId: Int, orientation: Int = DividerItemDecoration.VERTICAL) {        val drawable = ContextCompat.getDrawable(context!!, drawableResId)        requireNotNull(drawable) { "Drawable resource not found" }        val dividerItemDecoration = CustomDividerItemDecoration(drawable, orientation)        recyclerView.addItemDecoration(dividerItemDecoration)    }}